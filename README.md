# è®¢é˜…è½¬æ¢å·¥å…·

ä¸€ä¸ªç®€å•æ˜“ç”¨çš„Clashé…ç½®è½¬æ¢å·¥å…·ï¼Œæ”¯æŒå°†Clash YAMLæ ¼å¼é…ç½®è½¬æ¢ä¸ºé€šç”¨çš„è®¢é˜…é“¾æ¥æ ¼å¼ï¼Œé€‚ç”¨äºPassWallã€V2rayNç­‰ä»£ç†å®¢æˆ·ç«¯ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸŒ **Webç•Œé¢æ“ä½œ** - ç¾è§‚æ˜“ç”¨çš„å‰ç«¯ç•Œé¢
- ğŸ“¥ **å¤šç§è¾“å…¥æ–¹å¼** - æ”¯æŒURLé“¾æ¥å’Œç›´æ¥ç²˜è´´é…ç½®
- ğŸ”„ **å®æ—¶è½¬æ¢** - å³æ—¶è½¬æ¢Clashé…ç½®ä¸ºè®¢é˜…é“¾æ¥
- ğŸ“± **è·¨å¹³å°å…¼å®¹** - æ”¯æŒWindowsã€Linuxã€macOS
- ğŸš€ **ä¸€é”®éƒ¨ç½²** - å¯ç”Ÿæˆç‹¬ç«‹å¯æ‰§è¡Œæ–‡ä»¶
- ğŸ”— **å¤šåè®®æ”¯æŒ** - æ”¯æŒSSã€VMessã€Trojanç­‰åè®®

## å¿«é€Ÿå¼€å§‹

### æ–¹æ³•ä¸€ï¼šPythonç¯å¢ƒè¿è¡Œ

1. **å®‰è£…ä¾èµ–**
```bash
pip install -r requirements.txt
```

2. **å¯åŠ¨æœåŠ¡å™¨**
```bash
python start_server.py
```

3. **è®¿é—®Webç•Œé¢**
   - æœ¬åœ°è®¿é—®: http://localhost:5000
   - å±€åŸŸç½‘è®¿é—®: http://[ä½ çš„IPåœ°å€]:5000

### æ–¹æ³•äºŒï¼šç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶

1. **è¿è¡Œæ„å»ºè„šæœ¬**
```bash
python build_exe.py
```

2. **è¿è¡Œç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶**
```bash
./dist/è®¢é˜…è½¬æ¢æœåŠ¡å™¨.exe
```

## ä½¿ç”¨è¯´æ˜

### Webç•Œé¢æ“ä½œ

1. æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®æœåŠ¡å™¨åœ°å€
2. é€‰æ‹©é…ç½®æ–‡ä»¶æ¥æºï¼š
   - **URLé“¾æ¥**: è¾“å…¥Clashé…ç½®æ–‡ä»¶çš„ä¸‹è½½åœ°å€
   - **ç›´æ¥è¾“å…¥**: å°†Clashé…ç½®æ–‡ä»¶å†…å®¹ç²˜è´´åˆ°æ–‡æœ¬æ¡†
3. ç‚¹å‡»"ç”Ÿæˆè®¢é˜…é“¾æ¥"æŒ‰é’®
4. å¤åˆ¶ç”Ÿæˆçš„è®¢é˜…é“¾æ¥åˆ°ä½ çš„ä»£ç†å®¢æˆ·ç«¯

### å®¢æˆ·ç«¯é…ç½®

ç”Ÿæˆçš„è®¢é˜…é“¾æ¥å¯ä»¥ç›´æ¥ç”¨äºä»¥ä¸‹å®¢æˆ·ç«¯ï¼š

- **PassWall**: OpenWrtè·¯ç”±å™¨æ’ä»¶
- **V2rayN**: Windowså®¢æˆ·ç«¯
- **V2rayNG**: Androidå®¢æˆ·ç«¯
- **Clash for Windows**: Windowså®¢æˆ·ç«¯
- **Clash for Android**: Androidå®¢æˆ·ç«¯

## æœåŠ¡å™¨éƒ¨ç½²

### æœ¬åœ°éƒ¨ç½²

```bash
# å…‹éš†é¡¹ç›®
git clone [é¡¹ç›®åœ°å€]
cd è®¢é˜…è½¬æ¢

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# å¯åŠ¨æœåŠ¡
python start_server.py
```

### äº‘æœåŠ¡å™¨éƒ¨ç½²

1. **ä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨**
```bash
scp -r . user@server:/path/to/subscription-converter/
```

2. **åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…ä¾èµ–å¹¶å¯åŠ¨**
```bash
cd /path/to/subscription-converter/
pip install -r requirements.txt
python start_server.py
```

3. **åå°è¿è¡Œï¼ˆå¯é€‰ï¼‰**
```bash
nohup python start_server.py > server.log 2>&1 &
```

### Dockeréƒ¨ç½²ï¼ˆå¯é€‰ï¼‰

åˆ›å»ºDockerfile:
```dockerfile
FROM python:3.9-slim

WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .
EXPOSE 5000

CMD ["python", "start_server.py"]
```

æ„å»ºå¹¶è¿è¡Œ:
```bash
docker build -t subscription-converter .
docker run -p 5000:5000 subscription-converter
```

## APIæ¥å£

### è½¬æ¢æ¥å£

**POST** `/api/convert`

è¯·æ±‚å‚æ•°:
```json
{
  "config_source": "url|text",
  "config_url": "https://example.com/config.yaml",
  "config_text": "clashé…ç½®å†…å®¹"
}
```

å“åº”ç¤ºä¾‹:
```json
{
  "success": true,
  "message": "è½¬æ¢æˆåŠŸï¼æ‰¾åˆ° 10 ä¸ªä»£ç†èŠ‚ç‚¹",
  "subscription_url": "http://localhost:5000/subscription",
  "proxy_count": 10
}
```

### è®¢é˜…æ¥å£

**GET** `/subscription`

è¿”å›Base64ç¼–ç çš„è®¢é˜…å†…å®¹ï¼Œå¯ç›´æ¥ç”¨ä½œè®¢é˜…é“¾æ¥ã€‚

## æ–‡ä»¶ç»“æ„

```
è®¢é˜…è½¬æ¢/
â”œâ”€â”€ web_server.py          # Flask WebæœåŠ¡å™¨
â”œâ”€â”€ start_server.py        # å¯åŠ¨è„šæœ¬
â”œâ”€â”€ build_exe.py           # å¯æ‰§è¡Œæ–‡ä»¶ç”Ÿæˆè„šæœ¬
â”œâ”€â”€ requirements.txt       # Pythonä¾èµ–
â”œâ”€â”€ templates/             # HTMLæ¨¡æ¿ç›®å½•
â”‚   â””â”€â”€ index.html        # å‰ç«¯ç•Œé¢
â”œâ”€â”€ clash_config.yaml      # ç¤ºä¾‹é…ç½®æ–‡ä»¶
â”œâ”€â”€ subscription.txt       # ç”Ÿæˆçš„è®¢é˜…å†…å®¹
â””â”€â”€ README.md             # é¡¹ç›®è¯´æ˜
```

## æŠ€æœ¯æ ˆ

- **åç«¯**: Flask (Python Webæ¡†æ¶)
- **å‰ç«¯**: HTML + CSS + JavaScript
- **é…ç½®è§£æ**: PyYAML
- **HTTPè¯·æ±‚**: Requests
- **æ‰“åŒ…å·¥å…·**: PyInstaller

## æ”¯æŒçš„åè®®

- **Shadowsocks (SS)**: å®Œæ•´æ”¯æŒ
- **VMess**: å®Œæ•´æ”¯æŒ  
- **Trojan**: åŸºç¡€æ”¯æŒ
- **å…¶ä»–åè®®**: æŒç»­æ·»åŠ ä¸­

## å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆè½¬æ¢åèŠ‚ç‚¹æ•°é‡å°‘äº†ï¼Ÿ
A: å¯èƒ½çš„åŸå› ï¼š
- é…ç½®æ–‡ä»¶ä¸­åŒ…å«ä¸æ”¯æŒçš„åè®®ç±»å‹
- èŠ‚ç‚¹é…ç½®æ ¼å¼ä¸æ ‡å‡†
- æ£€æŸ¥æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

### Q: ç”Ÿæˆçš„è®¢é˜…é“¾æ¥æ— æ³•ä½¿ç”¨ï¼Ÿ
A: è¯·æ£€æŸ¥ï¼š
- æœåŠ¡å™¨æ˜¯å¦å¯ä»¥ä»å®¢æˆ·ç«¯ç½‘ç»œè®¿é—®
- é˜²ç«å¢™æ˜¯å¦å¼€æ”¾5000ç«¯å£
- è®¢é˜…é“¾æ¥æ ¼å¼æ˜¯å¦æ­£ç¡®

### Q: å¦‚ä½•ä¿®æ”¹æœåŠ¡å™¨ç«¯å£ï¼Ÿ
A: åœ¨`start_server.py`ä¸­ä¿®æ”¹`port=5000`ä¸ºå…¶ä»–ç«¯å£ã€‚

## è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›é¡¹ç›®ï¼

## è®¸å¯è¯

MIT License

## æ›´æ–°æ—¥å¿—

### v1.0.0
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- æ”¯æŒWebç•Œé¢æ“ä½œ
- æ”¯æŒSSå’ŒVMessåè®®è½¬æ¢
- æ”¯æŒç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ 